# Интеграция парсера MPT в приложение

## Обзор

Мы успешно интегрировали парсер для сайта Московского Приборостроительного Техникума (https://mpt.ru/raspisanie/) в наше мобильное приложение. Теперь список специальностей динамически загружается с сайта техникума вместо использования статических данных.

## Что было сделано

### 1. Создан парсер (MptParserService)
- Парсер извлекает href, aria-controls и название из tablist на сайте расписания
- Использует пакеты http и html для получения и парсинга веб-страницы

### 2. Создан новый репозиторий (MptRepository)
- Реализует интерфейс SpecialtyRepositoryInterface
- Использует парсер для получения списка специальностей
- Преобразует данные из парсера в сущности приложения (Specialty)

### 3. Интеграция в настройки
- Заменен старый репозиторий на новый MptRepository
- Теперь список специальностей в настройках загружается с сайта техникума

## Файлы

### Новые файлы:
- `lib/data/models/tab_info.dart` - модель данных для хранения информации о вкладке
- `lib/data/services/mpt_parser_service.dart` - сервис для парсинга сайта
- `lib/data/repositories/mpt_repository.dart` - репозиторий, использующий парсер
- `lib/data/services/parser_usage_example.dart` - пример использования парсера
- `lib/data/services/test_parser.dart` - тест для проверки работы парсера
- `lib/main_parser_demo.dart` - демонстрационное приложение

### Измененные файлы:
- `lib/presentation/screens/settings_screen.dart` - интеграция нового репозитория
- `pubspec.yaml` - добавлены зависимости http и html

## Как это работает

1. При открытии экрана настроек приложение создает экземпляр MptRepository
2. MptRepository использует MptParserService для получения данных с сайта
3. Парсер извлекает информацию о вкладках (специальностях) с сайта
4. Данные отображаются в интерфейсе настроек

## Преимущества

- Динамическая загрузка специальностей с сайта техникума
- Автоматическое обновление списка специальностей при изменениях на сайте
- Более точные и актуальные данные

## Тестирование

Для тестирования можно запустить:
```bash
flutter run lib/main_parser_demo.dart
```

Это откроет демонстрационное приложение с возможностью протестировать парсер отдельно.